---
title: "Components Reference"
description: "Detailed documentation for JoyDoc components"
icon: "box"
---


## JoyDoc

Main form builder component for creating and editing JoyDoc forms.

**Kind**: React Component  
**Returns**: `JSX.Element` - The JoyDoc component

### Props

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| doc | `Object` |  | The JoyDoc document object containing form structure and data |
| mode | `string` | `'edit'` | Display mode: 'edit', 'view', or 'preview' |
| view | `string` | `'desktop'` | View type: 'desktop', 'mobile', or 'tablet' |
| theme | `Object` |  | Custom theme object for styling |
| width | `number` | `816` | Component width in pixels |
| height | `number` | `1056` | Component height in pixels |
| initialPageId | `string` |  | ID of the initially active page |
| lazyload | `boolean` | `false` | Enable lazy loading for performance |
| features | `Object` |  | Feature flags object |
| features.formulas | `boolean` | `false` | Enable formula support |
| features.readableIds | `boolean` | `false` | Use readable IDs instead of object IDs |
| features.repeatingHeaderAndFooter | `boolean` | `false` | Enable repeating headers/footers |
| features.validateSchema | `boolean` | `false` | Enable schema validation |
| fieldOptions | `Array` |  | Custom field options array |
| fieldSettings | `Object` |  | Custom settings for different targets (page, field, table column) |
| identifiers | `Object` |  | Identifier configuration |
| onChange | `function` |  | Callback fired when document changes |
| onCaptureAsync | `function` |  | Async callback for field capture |
| onUploadAsync | `function` |  | Async callback for file uploads |
| onError | `function` |  | Error handler callback |
| onFocus | `function` |  | Field focus handler |
| onBlur | `function` |  | Field blur handler |
| validateSchema | `boolean` | `false` | Enable schema validation |

### Example

```jsx
import { JoyDoc } from '@joyfill/components';

<JoyDoc
  doc={myDocument}
  mode="edit"
  view="desktop"
  onChange={(updatedDoc) => console.log('Document updated:', updatedDoc)}
  features={{
    validateSchema: true,
    readableIds: true
  }}
/>
```

### Features Configuration

The `features` prop allows you to enable/disable various functionalities:

```jsx
<JoyDoc
  doc={myDocument}
  features={{
    formulas: true,              // Enable formula calculations
    readableIds: true,           // Use human-readable IDs
    repeatingHeaderAndFooter: true, // Repeat headers/footers on each page
    validateSchema: true         // Enable schema validation
  }}
/>
```

### Event Handlers

```jsx
<JoyDoc
  doc={myDocument}
  onChange={(updatedDoc) => {
    // Called when any field value changes
    console.log('Document updated:', updatedDoc);
  }}
  onFocus={(field) => {
    // Called when a field receives focus
    console.log('Field focused:', field);
  }}
  onBlur={(field) => {
    // Called when a field loses focus
    console.log('Field blurred:', field);
  }}
  onError={(error) => {
    // Called when an error occurs
    console.error('Error:', error);
  }}
/>
```

### File Upload Handling

```jsx
<JoyDoc
  doc={myDocument}
  onUploadAsync={async (file) => {
    // Handle file upload
    const formData = new FormData();
    formData.append('file', file);
    
    const response = await fetch('/upload', {
      method: 'POST',
      body: formData
    });
    
    const { url } = await response.json();
    return url; // Return the uploaded file URL
  }}
/>
```

---

## JoyDocExporter

PDF export component for rendering JoyDoc forms as PDF-ready layouts.

**Kind**: React Component  
**Returns**: `JSX.Element` - The JoyDocExporter component

### Props

| Param | Type | Default | Description |
| --- | --- | --- | --- |
| doc | `Object` |  | The JoyDoc document to export |
| theme | `Object` |  | Custom theme object for styling |
| license | `string` |  | JWT license key for validation |
| config | `Object` |  | Export configuration |
| config.page | `Object` |  | Page configuration |
| config.page.height | `number` | `1056` | Page height in pixels |
| config.page.width | `number` | `816` | Page width in pixels |
| config.page.padding | `number` | `0` | Page padding in pixels |

### Example

```jsx
import { JoyDocExporter } from '@joyfill/components';

<JoyDocExporter
  doc={myDocument}
  config={{
    page: {
      height: 1056,
      width: 816,
      padding: 20
    }
  }}
/>
```

### PDF Export Workflow

Here's a complete example of exporting a JoyDoc to PDF:

```jsx
import React from 'react';
import { JoyDocExporter } from '@joyfill/components';
import html2pdf from 'html2pdf.js';

function ExportToPDF({ document }) {
  const exportRef = React.useRef();
  
  const handleExport = () => {
    const element = exportRef.current;
    const options = {
      margin: 0,
      filename: 'document.pdf',
      image: { type: 'jpeg', quality: 0.98 },
      html2canvas: { scale: 2 },
      jsPDF: { unit: 'px', format: [816, 1056], orientation: 'portrait' }
    };
    
    html2pdf().set(options).from(element).save();
  };
  
  return (
    <div>
      <button onClick={handleExport}>Export to PDF</button>
      <div ref={exportRef}>
        <JoyDocExporter
          doc={document}
          config={{
            page: {
              height: 1056,
              width: 816,
              padding: 20
            }
          }}
        />
      </div>
    </div>
  );
}
```

### Custom Styling

Apply custom themes to the exporter:

```jsx
<JoyDocExporter
  doc={myDocument}
  theme={{
    primaryColor: '#0066FF',
    fontFamily: 'Arial, sans-serif',
    fontSize: 14
  }}
  config={{
    page: {
      height: 1056,
      width: 816,
      padding: 20
    }
  }}
/>
```


